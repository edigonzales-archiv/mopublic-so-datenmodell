description = """\n
"""

ext {
    targetDbUrl = "jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2"
    targetDbUser = "stefan"
    targetDbPass = System.env.targetDbPass
}

import ch.so.agi.gretl.steps.*

task transformMOpublic(type: Db2DbTask) {
    description = "Datenumbau in das SO-MOpublic-Publikationsmodell."
    sourceDb =  [sourceDbUrl, sourceDbUser, sourceDbPass]
    targetDb = [targetDbUrl, targetDbUser, targetDbPass]
    transferSets = [
            //new TransferSet("transform_av_mopublic_bodenbedeckung.sql", 'av_mopublic.mopublic_bodenbedeckung', true),
            //new TransferSet("transform_av_mopublic_bodenbedeckung_proj.sql", 'av_mopublic.mopublic_bodenbedeckung_proj', true),
            //new TransferSet("transform_av_mopublic_einzelobjekt_flaeche.sql", 'av_mopublic.mopublic_einzelobjekt_flaeche', true)
            //new TransferSet("transform_av_mopublic_einzelobjekt_linie.sql", 'av_mopublic.mopublic_einzelobjekt_linie', true)
            //new TransferSet("transform_av_mopublic_einzelobjekt_punkt.sql", 'av_mopublic.mopublic_einzelobjekt_punkt', true)
            //new TransferSet("transform_av_mopublic_objektname_pos.sql", 'av_mopublic.mopublic_objektname_pos', true)
            new TransferSet("transform_av_mopublic_flurname.sql", 'av_mopublic.mopublic_flurname', true)

            //new TransferSet("transform_av_mopublic_grundstueck.sql", 'av_mopublic.mopublic_grundstueck', true),
            //new TransferSet("transform_av_mopublic_grundstueck_proj.sql", 'av_mopublic.mopublic_grundstueck_proj', true),
    ]
}
